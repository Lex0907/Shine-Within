<!DOCTYPE html>
<html lang="en">
<head>
Â  <meta charset="UTF-8" />
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
Â  <title>Shine Within - Quotes & Positivity</title>
Â  <style>
Â  Â  /* style.css */
Â  Â  body {
Â  Â  Â  font-family: 'Segoe UI', sans-serif;
Â  Â  Â  margin: 0;
Â  Â  Â  padding: 0;
Â  Â  Â  background: linear-gradient(to bottom right, #e0f7fa, #d1c4e9);
Â  Â  Â  background-image: url('https://www.transparenttextures.com/patterns/vine.png'); /* vine texture */
Â  Â  Â  color: #333;
Â  Â  Â  line-height: 1.6;
Â  Â  Â  transition: background-color 0.3s, color 0.3s;
Â  Â  }

Â  Â  body.dark-mode {
Â  Â  Â  background: #121212;
Â  Â  Â  color: #f1f1f1;
Â  Â  }

Â  Â  header {
Â  Â  Â  background: linear-gradient(90deg, #a1c4fd, #c2e9fb);
Â  Â  Â  padding: 1rem;
Â  Â  Â  text-align: center;
Â  Â  Â  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
Â  Â  Â  position: relative;
Â  Â  }

Â  Â  body.dark-mode header {
Â  Â  Â  background: #2e2e2e;
Â  Â  Â  color: #f1f1f1;
Â  Â  }

Â  Â  header h1 {
Â  Â  Â  margin: 0;
Â  Â  Â  font-size: 2rem;
Â  Â  Â  color: #333;
Â  Â  Â  text-shadow: 0 0 5px #fff;
Â  Â  }

Â  Â  nav ul {
Â  Â  Â  list-style: none;
Â  Â  Â  padding: 0;
Â  Â  Â  display: flex;
Â  Â  Â  flex-wrap: wrap;
Â  Â  Â  justify-content: center;
Â  Â  Â  gap: 1rem;
Â  Â  Â  margin-top: 1rem;
Â  Â  }

Â  Â  nav a {
Â  Â  Â  text-decoration: none;
Â  Â  Â  color: #333;
Â  Â  Â  font-weight: bold;
Â  Â  Â  position: relative;
Â  Â  }

Â  Â  nav a::after {
Â  Â  Â  content: 'âœ¨';
Â  Â  Â  position: absolute;
Â  Â  Â  top: -10px;
Â  Â  Â  right: -10px;
Â  Â  Â  animation: shimmer 2s infinite;
Â  Â  }

Â  Â  @keyframes shimmer {
Â  Â  Â  0% { opacity: 1; }
Â  Â  Â  50% { opacity: 0.2; }
Â  Â  Â  100% { opacity: 1; }
Â  Â  }

Â  Â  section {
Â  Â  Â  padding: 2rem;
Â  Â  Â  max-width: 800px;
Â  Â  Â  margin: auto;
Â  Â  }

Â  Â  button {
Â  Â  Â  background: linear-gradient(to right, #81ecec, #74b9ff);
Â  Â  Â  border: none;
Â  Â  Â  padding: 10px 20px;
Â  Â  Â  border-radius: 8px;
Â  Â  Â  font-weight: bold;
Â  Â  Â  cursor: pointer;
Â  Â  Â  color: #fff;
Â  Â  Â  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
Â  Â  Â  transition: background 0.3s, transform 0.2s, box-shadow 0.2s;
Â  Â  }

Â  Â  button:hover {
Â  Â  Â  background: linear-gradient(to right, #74b9ff, #81ecec);
Â  Â  Â  transform: translateY(-2px);
Â  Â  }
Â  Â  
Â  Â  button.active {
Â  Â  Â  box-shadow: 0 0 15px #81ecec;
Â  Â  Â  transform: scale(1.05);
Â  Â  }
Â  Â  
Â  Â  button:disabled {
Â  Â  Â  Â  background: #ccc;
Â  Â  Â  Â  cursor: not-allowed;
Â  Â  Â  Â  transform: none;
Â  Â  }

Â  Â  input[type="text"] {
Â  Â  Â  padding: 10px;
Â  Â  Â  border: 1px solid #ccc;
Â  Â  Â  border-radius: 8px;
Â  Â  Â  width: 100%;
Â  Â  Â  box-sizing: border-box;
Â  Â  }

Â  Â  .community-list {
Â  Â  Â  list-style: none;
Â  Â  Â  padding: 0;
Â  Â  Â  margin-top: 1rem;
Â  Â  }

Â  Â  .community-list li {
Â  Â  Â  background: rgba(255, 255, 255, 0.8);
Â  Â  Â  padding: 1rem 1.5rem;
Â  Â  Â  margin: 0.5rem 0;
Â  Â  Â  border-radius: 10px;
Â  Â  Â  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
Â  Â  Â  font-style: italic;
Â  Â  Â  display: flex;
Â  Â  Â  justify-content: space-between;
Â  Â  Â  align-items: center;
Â  Â  Â  flex-wrap: wrap;
Â  Â  }
Â  Â  
Â  Â  body.dark-mode .community-list li {
Â  Â  Â  background-color: #1f1f1f;
Â  Â  Â  color: #f1f1f1;
Â  Â  }
Â  Â  
Â  Â  .quote-actions button {
Â  Â  Â  Â  margin-left: 0.5rem;
Â  Â  Â  Â  padding: 5px 10px;
Â  Â  Â  Â  font-size: 0.8rem;
Â  Â  }
Â  Â  
Â  Â  .quote-text {
Â  Â  Â  Â  flex-grow: 1;
Â  Â  Â  Â  margin-right: 1rem;
Â  Â  Â  Â  word-break: break-word;
Â  Â  }

Â  Â  .quote-card {
Â  Â  Â  background: rgba(230, 244, 255, 0.9);
Â  Â  Â  padding: 1.5rem;
Â  Â  Â  border-radius: 10px;
Â  Â  Â  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
Â  Â  Â  font-style: italic;
Â  Â  Â  text-align: center;
Â  Â  Â  margin-bottom: 1rem;
Â  Â  Â  cursor: pointer; /* Add cursor to indicate it's clickable */
Â  Â  }
Â  Â  
Â  Â  body.dark-mode .quote-card {
Â  Â  Â  background-color: #1f1f1f;
Â  Â  Â  color: #f1f1f1;
Â  Â  }

Â  Â  footer {
Â  Â  Â  background: linear-gradient(90deg, #a1c4fd, #c2e9fb);
Â  Â  Â  text-align: center;
Â  Â  Â  padding: 1rem;
Â  Â  Â  font-size: 0.9rem;
Â  Â  Â  box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.1);
Â  Â  }
Â  Â  
Â  Â  body.dark-mode footer {
Â  Â  Â  background: #2e2e2e;
Â  Â  Â  color: #f1f1f1;
Â  Â  }
Â  Â  
Â  Â  /* Theme Switcher */
Â  Â  .theme-switch {
Â  Â  Â  position: absolute;
Â  Â  Â  top: 1rem;
Â  Â  Â  right: 1rem;
Â  Â  Â  display: inline-block;
Â  Â  }

Â  Â  .theme-switch input { display: none; }

Â  Â  .slider {
Â  Â  Â  width: 50px;
Â  Â  Â  height: 24px;
Â  Â  Â  background-color: #74b9ff;
Â  Â  Â  border-radius: 24px;
Â  Â  Â  position: relative;
Â  Â  Â  cursor: pointer;
Â  Â  Â  transition: 0.3s;
Â  Â  }

Â  Â  .slider::before {
Â  Â  Â  content: "â˜€ï¸";
Â  Â  Â  position: absolute;
Â  Â  Â  font-size: 16px;
Â  Â  Â  line-height: 24px;
Â  Â  Â  left: 4px;
Â  Â  Â  transition: 0.3s;
Â  Â  }

Â  Â  input:checked + .slider { background-color: #2e2e2e; }

Â  Â  input:checked + .slider::before {
Â  Â  Â  content: "ğŸŒ™";
Â  Â  Â  transform: translateX(26px);
Â  Â  }

Â  Â  /* Interactive Elements */
Â  Â  .submission-box {
Â  Â  Â  display: flex;
Â  Â  Â  gap: 0.5rem;
Â  Â  Â  margin: 1rem 0;
Â  Â  }

Â  Â  #candle-section {
Â  Â  Â  text-align: center;
Â  Â  }
Â  Â  
Â  Â  /* Modal Styles */
Â  Â  .modal-overlay {
Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  background-color: rgba(0,0,0,0.5);
Â  Â  Â  Â  display: none;
Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  z-index: 1000;
Â  Â  }
Â  Â  .modal-content {
Â  Â  Â  Â  background: white;
Â  Â  Â  Â  padding: 2rem;
Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  width: 90%;
Â  Â  Â  Â  max-width: 500px;
Â  Â  Â  Â  box-shadow: 0 5px 15px rgba(0,0,0,0.3);
Â  Â  }
Â  Â  body.dark-mode .modal-content {
Â  Â  Â  Â  background: #2e2e2e;
Â  Â  }
Â  Â  .modal-content h3 {
Â  Â  Â  Â  margin-top: 0;
Â  Â  }
Â  Â  .modal-content input {
Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  margin-bottom: 1rem;
Â  Â  }
Â  Â  .modal-actions {
Â  Â  Â  Â  text-align: right;
Â  Â  }
Â  Â  .modal-actions button {
Â  Â  Â  Â  margin-left: 0.5rem;
Â  Â  }

Â  Â  .fade-in { animation: fadeIn 0.8s ease-in-out; }

Â  Â  @keyframes fadeIn {
Â  Â  Â  from {
Â  Â  Â  Â  opacity: 0;
Â  Â  Â  Â  transform: translateY(12px);
Â  Â  Â  }
Â  Â  Â  to {
Â  Â  Â  Â  opacity: 1;
Â  Â  Â  Â  transform: translateY(0);
Â  Â  Â  }
Â  Â  }
Â  </style>
Â  Â  Â  <script src="https://www.gstatic.com/firebasejs/10.11.1/firebase-app.js"></script>
Â  <script src="https://www.gstatic.com/firebasejs/10.11.1/firebase-firestore.js"></script>
</head>
<body>
Â  <header>
Â  Â  <h1>Shine Within</h1>
Â  Â  <label class="theme-switch">
Â  Â  Â  <input type="checkbox" id="theme-toggle" />
Â  Â  Â  <span class="slider"></span>
Â  Â  </label>
Â  Â  <nav>
Â  Â  Â  <ul>
Â  Â  Â  Â  <li><a href="#home">Home</a></li>
Â  Â  Â  Â  <li><a href="#quotes">Quotes</a></li>
Â  Â  Â  Â  <li><a href="#journal">Journal</a></li>
Â  Â  Â  Â  <li><a href="#family-questions">Family</a></li>
Â  Â  Â  Â  <li><a href="#playlist">Playlist</a></li>
Â  Â  Â  Â  <li><a href="#reflection">Reflection</a></li>
Â  Â  Â  Â  <li><a href="#community">Community</a></li>
Â  Â  Â  Â  <li><a href="#candle-section">Candle</a></li>
Â  Â  Â  Â  <li><a href="#about">About</a></li>
Â  Â  Â  Â  <li><a href="#contact">Contact</a></li>
Â  Â  Â  </ul>
Â  Â  </nav>
Â  </header>

Â  <section id="home">
Â  Â  <h2>Welcome to Your Dose of Light</h2>
Â  Â  <div id="daily-quote" class="quote-card">Quote of the Day loading...</div>
Â  Â  <p>Here youâ€™ll find handpicked quotes and messages to uplift, inspire, and remind you of your strength.</p>
Â  Â  <button onclick="showRandomQuote()">Get a Random Quote</button>
Â  Â  <div id="random-quote" style="display: none;"></div>
Â  </section>

Â  <section id="quotes">
Â  Â  <h2>Positivity Quotes</h2>
Â  Â  <div class="filters">
Â  Â  Â  <button class="filter-btn" data-category="all">All</button>
Â  Â  Â  <button class="filter-btn" data-category="strength">Strength</button>
Â  Â  Â  <button class="filter-btn" data-category="healing">Healing</button>
Â  Â  Â  <button class="filter-btn" data-category="growth">Growth</button>
Â  Â  Â  <button class="filter-btn" data-category="encouragement">Encouragement</button>
Â  Â  </div>
Â  Â  <ul id="quote-list"></ul>
Â  </section>

Â  <section id="journal">
Â  Â  <h2>Self-Care Journal Prompt</h2>
Â  Â  <p>Need a moment to reflect? Click the button below to receive a gentle prompt to guide your thoughts.</p>
Â  Â  <button onclick="showJournalPrompt()">Give Me a Prompt</button>
Â  Â  <div id="prompt-display" class="quote-card" style="margin-top: 1rem; display: none;"></div>
Â  </section>

Â  <section id="family-questions">
Â  Â  <h2>Heart Full Family Questions</h2>
Â  Â  <p>What stories and wisdom do you want to pass on? Get a question to help you share your heart with future generations.</p>
Â  Â  <button onclick="showFamilyQuestion()">Ask a Family Question</button>
Â  Â  <div id="family-question-display" class="quote-card" style="margin-top: 1rem; display: none;"></div>
Â  </section>

Â  <section id="playlist">
Â  Â  <h2>Positivity Playlist</h2>
Â  Â  <p>Hereâ€™s a collection of songs to lift your spirit, calm your heart, and help you feel connected.</p>
Â  Â  <ul class="community-list">
Â  Â  Â  <li><strong>"Keep Your Head Up"</strong> â€“ Andy Grammer</li>
Â  Â  Â  <li><strong>"Scars to Your Beautiful"</strong> â€“ Alessia Cara</li>
Â  Â  Â  <li><strong>"Rescue"</strong> â€“ Lauren Daigle</li>
Â  Â  Â  <li><strong>"Rainbow"</strong> â€“ Kacey Musgraves</li>
Â  Â  Â  <li><strong>"Fight Song"</strong> â€“ Rachel Platten</li>
Â  Â  Â  <li><strong>"You Say"</strong> â€“ Lauren Daigle</li>
Â  Â  Â  <li><strong>"Rise Up"</strong> â€“ Andra Day</li>
Â  Â  Â  <li><strong>"Pocketful of Sunshine"</strong> â€“ Natasha Bedingfield ğŸŒ»</li>
Â  Â  Â  <li><strong>"Brave"</strong> â€“ Sara Bareilles</li>
Â  Â  Â  <li><strong>"Who You Are"</strong> â€“ Jessie J</li>
Â  Â  </ul>
Â  </section>

Â  <section id="reflection">
Â  Â  <h2>What Brings You Hope?</h2>
Â  Â  <p>Leave a short, anonymous answer below and share a little light with others who visit.</p>
Â  Â  <div class="submission-box">
Â  Â  Â  <input type="text" id="hope-input" placeholder="Your hopeful thought..." />
Â  Â  Â  <button id="submit-reflection">Submit Reflection</button>
Â  Â  </div>
Â  Â  <ul id="reflections-list" class="community-list"></ul>
Â  </section>

Â  <section id="community">
Â  Â  <h2>Share Your Favorite Quote</h2>
Â  Â  <p>Have a favorite quote? Share it with the world:</p>
Â  Â  <div class="submission-box">
Â  Â  Â  <input type="text" id="user-quote" placeholder="Enter your quote here" />
Â  Â  Â  <button id="submit-quote">Submit Quote</button>
Â  Â  </div>
Â  Â  <h3>Community Quotes</h3>
Â  Â  <ul id="submitted-quotes" class="community-list"></ul>
Â  </section>
Â  
Â  <section id="candle-section">
Â  Â  <h2>Light a Candle</h2>
Â  Â  <p>Honor someone you miss or carry in your heart by lighting a digital candle and sharing a message of remembrance or hope.</p>
Â  Â  <div class="submission-box">
Â  Â  Â  Â  <input type="text" id="candle-input" placeholder="Type their name or a message...">
Â  Â  Â  Â  <button id="light-candle-btn">Light Candle ğŸ•¯ï¸</button>
Â  Â  </div>
Â  Â  <ul id="candle-wall" class="community-list"></ul>
Â  </section>

Â  <section id="about">
Â  Â  <h2>About This Site</h2>
Â  Â  <p>This space was created to spread light in dark times, to remind you that you matter, and to share healing words. Every quote here is chosen with heart.</p>
Â  </section>

Â  <section id="contact">
Â  Â  <h2>Contact Me</h2>
Â  Â  <p>Have a quote you want featured or want to connect? Email: <a href="mailto:leann8285@gmail.com">leann8285@gmail.com</a></p>
Â  </section>

Â  <footer>
Â  Â  <p>&copy; 2025 ShineWithinWisdomWaves. Created with heart by Alexis Kendle.</p>
Â  </footer>

Â  Â  <div id="custom-modal" class="modal-overlay">
Â  Â  Â  <div class="modal-content">
Â  Â  Â  Â  Â  <h3 id="modal-title">Edit Entry</h3>
Â  Â  Â  Â  Â  <p id="modal-text"></p>
Â  Â  Â  Â  Â  <input type="text" id="modal-input" />
Â  Â  Â  Â  Â  <div class="modal-actions">
Â  Â  Â  Â  Â  Â  Â  <button id="modal-cancel">Cancel</button>
Â  Â  Â  Â  Â  Â  Â  <button id="modal-confirm">Confirm</button>
Â  Â  Â  Â  Â  </div>
Â  Â  Â  </div>
Â  </div>

Â  <script type="module">
Â  Â  // --- Firebase Configuration and Imports ---
Â  Â  // We import the necessary modules from the Firebase SDK CDN
Â  Â  import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.11.1/firebase-app.js';
Â  Â  import { getFirestore, collection, query, orderBy, onSnapshot, addDoc, updateDoc, deleteDoc, doc } from 'https://www.gstatic.com/firebasejs/10.11.1/firebase-firestore.js';

Â  Â  const firebaseConfig = {
Â  Â  Â  apiKey: "AIzaSyC0ka3EiqyN8J_wEXV8b1_1KAZ67CTmBdY",
Â  Â  Â  authDomain: "shinewithinlive.firebaseapp.com",
Â  Â  Â  projectId: "shinewithinlive",
Â  Â  Â  storageBucket: "shinewithinlive.firebasestorage.app",
Â  Â  Â  messagingSenderId: "626223295677",
Â  Â  Â  appId: "1:626223295677:web:74c56d8938c6d2054e5bd4"
Â  Â  };

Â  Â  // Initialize Firebase
Â  Â  const app = initializeApp(firebaseConfig);
Â  Â  const db = getFirestore(app);

Â  Â  document.addEventListener('DOMContentLoaded', () => {
Â  Â  Â  // --- Data Arrays ---
Â  Â  Â  const quotes = [
Â  Â  Â  Â  { text: "You are not behind â€” you are becoming.", category: "Growth" },
Â  Â  Â  Â  { text: "Just because it's hard doesn't mean you're weak. It means you're trying.", category: "Encouragement" },
Â  Â  Â  Â  { text: "Healing isn't pretty, but you're still doing it.", category: "Healing" },
Â  Â  Â  Â  { text: "Youâ€™ve already survived 100% of your worst days.", category: "Strength" },
Â  Â  Â  Â  { text: "The cracks are where the light gets in.", category: "Healing" },
Â  Â  Â  Â  { text: "Youâ€™re allowed to be both a masterpiece and a work in progress.", category: "Growth" },
Â  Â  Â  Â  { text: "Youâ€™re stronger than the storm youâ€™re walking through.", category: "Strength" },
Â  Â  Â  Â  { text: "Small steps are still steps. Keep going.", category: "Encouragement" },
Â  Â  Â  Â  { text: "The human spirit is stronger than anything that can happen to it.", category: "Strength" },
Â  Â  Â  Â  { text: "A hero is an ordinary individual who finds the strength to persevere and endure in spite of overwhelming obstacles.", category: "Strength" },
Â  Â  Â  Â  { text: "Where there is no struggle, there is no strength.", category: "Strength" },
Â  Â  Â  Â  { text: "Strength does not come from winning. Your struggles develop your strengths.", category: "Strength" },
Â  Â  Â  Â  { text: "Fall down seven times, stand up eight.", category: "Strength" },
Â  Â  Â  Â  { text: "The oak fought the wind and was broken, the willow bent when it must and survived.", category: "Strength" },
Â  Â  Â  Â  { text: "You have power over your mind â€” not outside events. Realize this, and you will find strength.", category: "Strength" },
Â  Â  Â  Â  { text: "The wound is the place where the Light enters you.", category: "Healing" },
Â  Â  Â  Â  { text: "Give yourself the same care and attention that you give to others and watch yourself bloom.", category: "Healing" },
Â  Â  Â  Â  { text: "Healing comes in waves, and maybe today the wave hits the shore. And maybe tomorrow it will pull back. And that's okay.", category: "Healing" },
Â  Â  Â  Â  { text: "Your heart knows the way. Run in that direction.", category: "Healing" },
Â  Â  Â  Â  { text: "Be gentle with yourself, you're doing the best you can.", category: "Healing" },
Â  Â  Â  Â  { text: "Sometimes the healing is in the quiet, in the stillness, in the learning to be with yourself.", category: "Healing" },
Â  Â  Â  Â  { text: "It is not the load that breaks you down, it is the way you carry it.", category: "Healing" },
Â  Â  Â  Â  { text: "To heal a wound, you need to stop touching it.", category: "Healing" },
Â  Â  Â  Â  { text: "The only time you are actually growing is when you are uncomfortable.", category: "Growth" },
Â  Â  Â  Â  { text: "Do not be afraid to give up the good to go for the great.", category: "Growth" },
Â  Â  Â  Â  { text: "Every moment is a fresh beginning.", category: "Growth" },
Â  Â  Â  Â  { text: "The journey of a thousand miles begins with a single step.", category: "Growth" },
Â  Â  Â  Â  { text: "What you do makes a difference, and you have to decide what kind of difference you want to make.", category: "Growth" },
Â  Â  Â  Â  { text: "Become a student of change. It is the only thing that will remain constant.", category: "Growth" },
Â  Â  Â  Â  { text: "It's not about being the best. It's about being better than you were yesterday.", category: "Growth" },
Â  Â  Â  Â  { text: "Mistakes are proof that you are trying.", category: "Growth" },
Â  Â  Â  Â  { text: "Just for the record darling, not all positive change feels positive in the beginning.", category: "Encouragement" },
Â  Â  Â  Â  { text: "Even the darkest night will end and the sun will rise.", category: "Encouragement" },
Â  Â  Â  Â  { text: "This too shall pass. It might pass like a kidney stone, but it will pass.", category: "Encouragement" },
Â  Â  Â  Â  { text: "It's okay to not be okay. It's not okay to give up.", category: "Encouragement" },
Â  Â  Â  Â  { text: "You are doing better than you think you are.", category: "Encouragement" },
Â  Â  Â  Â  { text: "Breathe. You're going to be okay. You've gotten through all of your bad days so far.", category: "Encouragement" },
Â  Â  Â  Â  { text: "Look for something positive in each day, even if some days you have to look a little harder.", category: "Encouragement" }
Â  Â  Â  ];
Â  Â  Â  
Â  Â  Â  const prompts = [ "What is something you need to let go of today?", "What would you say to your younger self?", "What does healing look like for you right now?", "Write down 3 things youâ€™re proud of yourself for.", "What is something youâ€™ve survived that you never thought you would?", "If you could speak to someone you miss, what would you tell them?", "What does being at peace mean to you?", "How have you grown in the past year â€” emotionally or spiritually?", "Who are you when no one else is around?", "Whatâ€™s one kind thing you can do for yourself this week?", "What is a boundary you need to set for your own well-being?", "Describe a place where you feel completely at ease. What makes it so peaceful?", "What's a compliment you've received that you've never forgotten?", "Write a letter of forgiveness to yourself for a past mistake.", "What is your body asking for today? (e.g., rest, movement, nourishment)", "List five things you can see, four things you can feel, three things you can hear, two things you can smell, and one thing you can taste right now.", "What's a fear that is holding you back, and what's one small step you can take to face it?", "What does success look like to you, outside of career or money?", "Describe a time you felt truly understood by someone.", "What's a simple pleasure you can gift yourself today?", "How can you show more compassion to yourself when you're struggling?", "What is a quality you admire in others that you also possess?", "Write down a worry and then write down a more compassionate, reassuring thought to counter it.", "What are you grateful for in this exact moment?", "What is a creative activity that makes you lose track of time?", "What's a difficult emotion you're feeling right now? Allow yourself to sit with it without judgment.", "Who in your life makes you feel energized and supported?", "What is a promise you want to make to yourself for the upcoming week?", "Describe your perfect, restful day from morning to night.", "What is a limiting belief you're ready to challenge?", "What part of your life is currently bringing you the most joy?", "How do you recharge when you feel drained?", "What is something you've accomplished that you haven't given yourself enough credit for?", "Write about a time you felt connected to nature.", "What is a song that lifts your spirits, and why?", "What is a 'win' you've had this week, no matter how small?", "What are you looking forward to?", "If your body could talk, what would it thank you for?", "What is an area of your life where you'd like to ask for help?", "End this entry with a single word that describes how you want to feel tomorrow."];

Â  Â  Â  const familyQuestions = [ "What is a piece of advice you received from an elder that you want to pass on?", "What family tradition do you cherish the most and why?", "What is a story about your parents or grandparents that your descendants should know?", "What do you want your children/grandchildren to know about what love means to you?", "What was the happiest moment of your life so far, and who was you?", "Describe a challenge you overcame and what it taught you about resilience.", "What is the most important lesson you've learned about forgiveness?", "If you could give your younger family members one 'secret to life,' what would it be?", "What do you want your legacy to be within your family?", "What smell, sound, or taste immediately reminds you of home and family?", "What's a piece of music that defines a period of your life?", "Describe a time you felt truly proud of a family member.", "What is the best meal you ever had, and who did you share it with?", "What is something you learned from a mistake that you want your family to know?", "If you could travel back to one moment in your family's history, where would you go?", "What does 'home' mean to you, beyond just a physical place?", "Who was your childhood hero and why?", "What is a small, everyday moment that brings you immense joy?", "What is a skill you're proud of that you'd love to teach someone in your family?", "How did you meet your best friend?", "What is a book or movie that changed the way you see the world?", "Describe a time you had to be brave.", "What is your favorite memory of a holiday with your family?", "What do you admire most about your parents?", "What do you hope your grandchildren will say about you one day?", "What is a family story that always makes you laugh?", "What value do you believe is most important to instill in the next generation?", "Describe a place that feels sacred or special to you.", "What's a dream you still hope to achieve?", "What has been the most surprising thing about getting older?", "What's a family recipe you want to make sure gets passed down?", "Describe a time your family came together to support someone.", "What is your favorite photo of your family and what's the story behind it?", "What's a song that reminds you of your childhood?", "What's a piece of advice you'd give your 20-year-old self?", "What is a family inside joke that you can share?", "What's the most beautiful place you've ever visited with family?", "What's a lesson you learned from a pet?", "What's a story about a family heirloom?", "What's something you admire about your sibling(s)?", "What's a time you felt perfectly content?", "What's a family myth or legend?", "What's the best gift you've ever received and why was it so special?", "What's a challenge your family faced and how did you overcome it together?", "What's your earliest memory?", "What's something you want to be remembered for?", "What's a tradition you started or want to start in your own family?", "What's a moment of pure, unexpected kindness you witnessed or received?", "What's a piece of local history from where you grew up that your family should know?", "If you could have dinner with any three relatives (living or passed), who would they be and why?"];

Â  Â  Â  // --- Firebase Collection Keys ---
Â  Â  Â  const COLLECTION_KEYS = {
Â  Â  Â  Â  reflections: "reflections",
Â  Â  Â  Â  candles: "candles",
Â  Â  Â  Â  quotes: "community-quotes" 
Â  Â  Â  };

Â  Â  Â  // ===== Modal Logic (Retained) =====
Â  Â  Â  const modal = document.getElementById('custom-modal');
Â  Â  Â  const modalTitle = document.getElementById('modal-title');
Â  Â  Â  const modalText = document.getElementById('modal-text');
Â  Â  Â  const modalInput = document.getElementById('modal-input');
Â  Â  Â  const modalCancel = document.getElementById('modal-cancel');
Â  Â  Â  const modalConfirm = document.getElementById('modal-confirm');
Â  Â  Â  let modalResolve = null;

Â  Â  Â  function showModal(config) {
Â  Â  Â  Â  Â  modalTitle.textContent = config.title;
Â  Â  Â  Â  Â  modalText.textContent = config.text || '';
Â  Â  Â  Â  Â  modalInput.style.display = config.showInput ? 'block' : 'none';
Â  Â  Â  Â  Â  modalInput.value = config.inputValue || '';
Â  Â  Â  Â  Â  modalConfirm.textContent = config.confirmText || 'Confirm';
Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  modal.style.display = 'flex';

Â  Â  Â  Â  Â  return new Promise((resolve) => {
Â  Â  Â  Â  Â  Â  Â  modalResolve = resolve;
Â  Â  Â  Â  Â  });
Â  Â  Â  }

Â  Â  Â  modalCancel.addEventListener('click', () => {
Â  Â  Â  Â  Â  modal.style.display = 'none';
Â  Â  Â  Â  Â  if (modalResolve) modalResolve(null);
Â  Â  Â  });

Â  Â  Â  modalConfirm.addEventListener('click', () => {
Â  Â  Â  Â  Â  modal.style.display = 'none';
Â  Â  Â  Â  Â  if (modalResolve) modalResolve(modalInput.style.display === 'none' ? true : modalInput.value);
Â  Â  Â  });

Â  Â  Â  // ===== GLOBAL FUNCTIONS (Quote, Journal, Family Prompts) =====
Â  Â  Â  window.showJournalPrompt = function() {
Â  Â  Â  Â  Â  const box = document.getElementById('prompt-display');
Â  Â  Â  Â  Â  const randomIndex = Math.floor(Math.random() * prompts.length);
Â  Â  Â  Â  Â  box.textContent = prompts[randomIndex];
Â  Â  Â  Â  Â  box.style.display = 'block';
Â  Â  Â  Â  Â  box.classList.remove("fade-in");
Â  Â  Â  Â  Â  void box.offsetWidth;
Â  Â  Â  Â  Â  box.classList.add("fade-in");
Â  Â  Â  }

Â  Â  Â  window.showFamilyQuestion = function() {
Â  Â  Â  Â  Â  const box = document.getElementById('family-question-display');
Â  Â  Â  Â  Â  const randomIndex = Math.floor(Math.random() * familyQuestions.length);
Â  Â  Â  Â  Â  box.textContent = familyQuestions[randomIndex];
Â  Â  Â  Â  Â  box.style.display = 'block';
Â  Â  Â  Â  Â  box.classList.remove("fade-in");
Â  Â  Â  Â  Â  void box.offsetWidth;
Â  Â  Â  Â  Â  box.classList.add("fade-in");
Â  Â  Â  }
Â  Â  Â  
Â  Â  Â  window.showRandomQuote = function() {
Â  Â  Â  Â  Â  const box = document.getElementById("random-quote");
Â  Â  Â  Â  Â  const randomIndex = Math.floor(Math.random() * quotes.length);
Â  Â  Â  Â  Â  box.textContent = quotes[randomIndex].text;
Â  Â  Â  Â  Â  box.style.display = 'block';
Â  Â  Â  Â  Â  box.style.marginTop = '1.5rem';
Â  Â  Â  Â  Â  box.classList.remove("fade-in");
Â  Â  Â  Â  Â  void box.offsetWidth;
Â  Â  Â  Â  Â  box.classList.add("fade-in");
Â  Â  Â  Â  Â  box.classList.add("quote-card");
Â  Â  Â  }

Â  Â  Â  // ===== Firebase Operations =====

Â  Â  Â  // Function to add items to Firebase Firestore
Â  Â  Â  async function addItem(collectionKey, inputElementId) {
Â  Â  Â  Â  Â  const input = document.getElementById(inputElementId);
Â  Â  Â  Â  Â  const text = input.value.trim();
Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  if (text) {
Â  Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  Â  const newItem = {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  text: text,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  timestamp: Date.now()
Â  Â  Â  Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  Â  // Add the document to Firestore. LiveSync will update the UI automatically.
Â  Â  Â  Â  Â  Â  Â  Â  Â  await addDoc(collection(db, collectionKey), newItem);
Â  Â  Â  Â  Â  Â  Â  Â  Â  input.value = ""; // Clear input on success
Â  Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error("Error adding document: ", error);
Â  Â  Â  Â  Â  Â  Â  Â  Â  alert("Error submitting. Please check your console for details.");
Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  }
Â  Â  Â  }

Â  Â  Â  // Function to edit an item in Firebase Firestore
Â  Â  Â  async function editItem(collectionKey, docId, currentText, isCandle) {
Â  Â  Â  Â  Â  const newText = await showModal({
Â  Â  Â  Â  Â  Â  Â  title: 'Edit Entry',
Â  Â  Â  Â  Â  Â  Â  text: isCandle ? 'Edit the candle message:' : 'Edit the entry:',
Â  Â  Â  Â  Â  Â  Â  showInput: true,
Â  Â  Â  Â  Â  Â  Â  inputValue: currentText,
Â  Â  Â  Â  Â  Â  Â  confirmText: 'Save'
Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  if (newText !== null && newText.trim() !== "" && newText !== currentText) {
Â  Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  Â  await updateDoc(doc(db, collectionKey, docId), {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  text: newText.trim(),
Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error("Error updating document: ", error);
Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  }
Â  Â  Â  }

Â  Â  Â  // Function to delete an item from Firebase Firestore
Â  Â  Â  async function deleteItem(collectionKey, docId) {
Â  Â  Â  Â  Â  const confirmed = await showModal({
Â  Â  Â  Â  Â  Â  Â  title: 'Delete Entry',
Â  Â  Â  Â  Â  Â  Â  text: 'Are you sure you want to delete this entry?',
Â  Â  Â  Â  Â  Â  Â  showInput: false,
Â  Â  Â  Â  Â  Â  Â  confirmText: 'Delete'
Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  if (confirmed) {
Â  Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  Â  await deleteDoc(doc(db, collectionKey, docId));
Â  Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error("Error deleting document: ", error);
Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  }
Â  Â  Â  }

Â  Â  Â  // Function to sync Firebase data to the UI in real-time
Â  Â  Â  function liveSync(collectionKey, listId, isCandle = false) {
Â  Â  Â  Â  Â  const q = query(collection(db, collectionKey), orderBy("timestamp", "desc"));
Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  onSnapshot(q, snapshot => {
Â  Â  Â  Â  Â  Â  Â  const listElement = document.getElementById(listId);
Â  Â  Â  Â  Â  Â  Â  listElement.innerHTML = ""; // Clear the list

Â  Â  Â  Â  Â  Â  Â  snapshot.forEach(doc => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  const item = doc.data();
Â  Â  Â  Â  Â  Â  Â  Â  Â  const li = document.createElement("li");
Â  Â  Â  Â  Â  Â  Â  Â  Â  li.setAttribute("data-id", doc.id);
Â  Â  Â  Â  Â  Â  Â  Â  Â  li.setAttribute("data-collection", collectionKey);

Â  Â  Â  Â  Â  Â  Â  Â  Â  const span = document.createElement("span");
Â  Â  Â  Â  Â  Â  Â  Â  Â  span.textContent = isCandle ? `ğŸ•¯ï¸ ${item.text}` : `"${item.text}"`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  span.classList.add("quote-text");

Â  Â  Â  Â  Â  Â  Â  Â  Â  const actionsDiv = document.createElement("div");
Â  Â  Â  Â  Â  Â  Â  Â  Â  actionsDiv.classList.add("quote-actions");

Â  Â  Â  Â  Â  Â  Â  Â  Â  const editBtn = document.createElement("button");
Â  Â  Â  Â  Â  Â  Â  Â  Â  editBtn.textContent = "Edit";
Â  Â  Â  Â  Â  Â  Â  Â  Â  editBtn.classList.add("edit-btn");
Â  Â  Â  Â  Â  Â  Â  Â  Â  actionsDiv.appendChild(editBtn);

Â  Â  Â  Â  Â  Â  Â  Â  Â  const deleteBtn = document.createElement("button");
Â  Â  Â  Â  Â  Â  Â  Â  Â  deleteBtn.textContent = "Delete";
Â  Â  Â  Â  Â  Â  Â  Â  Â  deleteBtn.classList.add("delete-btn");
Â  Â  Â  Â  Â  Â  Â  Â  Â  actionsDiv.appendChild(deleteBtn);

Â  Â  Â  Â  Â  Â  Â  Â  Â  li.appendChild(span);
Â  Â  Â  Â  Â  Â  Â  Â  Â  li.appendChild(actionsDiv);
Â  Â  Â  Â  Â  Â  Â  Â  Â  listElement.appendChild(li);
Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  });
Â  Â  Â  }

Â  Â  Â  // ===== Static Quotes & Filters =====
Â  Â  Â  const showQuotes = (category = "all") => {
Â  Â  Â  Â  Â  const list = document.getElementById("quote-list");
Â  Â  Â  Â  Â  list.innerHTML = "";
Â  Â  Â  Â  Â  const filtered = category === "all"
Â  Â  Â  Â  Â  Â  ? quotes
Â  Â  Â  Â  Â  Â  : quotes.filter(q => q.category.toLowerCase() === category.toLowerCase());
Â  Â  Â  Â  Â  filtered.forEach(q => {
Â  Â  Â  Â  Â  Â  const li = document.createElement("li");
Â  Â  Â  Â  Â  Â  li.classList.add("quote-card");
Â  Â  Â  Â  Â  Â  li.textContent = q.text;
Â  Â  Â  Â  Â  Â  list.appendChild(li);
Â  Â  Â  Â  Â  });
Â  Â  Â  }

Â  Â  Â  // ===== Event Listeners =====

Â  Â  Â  // Theme Toggle
Â  Â  Â  const themeToggle = document.getElementById("theme-toggle");
Â  Â  Â  themeToggle.addEventListener("change", () => {
Â  Â  Â  Â  document.body.classList.toggle("dark-mode");
Â  Â  Â  });

Â  Â  Â  // Quote Filters
Â  Â  Â  const filterButtons = document.querySelectorAll(".filter-btn");
Â  Â  Â  filterButtons.forEach(button => {
Â  Â  Â  Â  button.addEventListener("click", () => {
Â  Â  Â  Â  Â  const list = document.getElementById("quote-list");
Â  Â  Â  Â  Â  if (button.classList.contains('active')) {
Â  Â  Â  Â  Â  Â  Â  list.innerHTML = "";
Â  Â  Â  Â  Â  Â  Â  button.classList.remove('active');
Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  const category = button.getAttribute("data-category");
Â  Â  Â  Â  Â  Â  Â  showQuotes(category);
Â  Â  Â  Â  Â  Â  Â  filterButtons.forEach(btn => btn.classList.remove("active"));
Â  Â  Â  Â  Â  Â  Â  button.classList.add("active");
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });
Â  Â  Â  });

Â  Â  Â  // Submit Buttons for Community Sections
Â  Â  Â  document.getElementById("submit-quote").addEventListener("click", () => addItem(COLLECTION_KEYS.quotes, 'user-quote'));
Â  Â  Â  document.getElementById("submit-reflection").addEventListener("click", () => addItem(COLLECTION_KEYS.reflections, 'hope-input'));
Â  Â  Â  document.getElementById("light-candle-btn").addEventListener("click", () => addItem(COLLECTION_KEYS.candles, 'candle-input'));

Â  Â  Â  // Event delegation for Edit and Delete buttons on dynamically created lists
Â  Â  Â  document.querySelectorAll('.community-list').forEach(list => {
Â  Â  Â  Â  list.addEventListener('click', (e) => {
Â  Â  Â  Â  Â  const target = e.target;
Â  Â  Â  Â  Â  const li = target.closest('li');
Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  if (!li || (!target.classList.contains('edit-btn') && !target.classList.contains('delete-btn'))) return;
Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  const id = li.getAttribute('data-id');
Â  Â  Â  Â  Â  const collectionKey = li.getAttribute('data-collection');
Â  Â  Â  Â  Â  const isCandle = collectionKey === COLLECTION_KEYS.candles;
Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  // Extract text content for editing
Â  Â  Â  Â  Â  let currentText = li.querySelector('.quote-text').textContent.trim();
Â  Â  Â  Â  Â  if (isCandle) {
Â  Â  Â  Â  Â  Â  currentText = currentText.replace('ğŸ•¯ï¸ ', '');
Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  // Remove surrounding quotes for community quotes/reflections
Â  Â  Â  Â  Â  Â  if (currentText.startsWith('"') && currentText.endsWith('"')) {
Â  Â  Â  Â  Â  Â  Â  currentText = currentText.slice(1, -1);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  if (target.classList.contains('edit-btn')) {
Â  Â  Â  Â  Â  Â  editItem(collectionKey, id, currentText, isCandle);
Â  Â  Â  Â  Â  } else if (target.classList.contains('delete-btn')) {
Â  Â  Â  Â  Â  Â  deleteItem(collectionKey, id);
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });
Â  Â  Â  });

Â  Â  Â  // Initialize live sync for community lists
Â  Â  Â  liveSync(COLLECTION_KEYS.quotes, 'submitted-quotes', false);
Â  Â  Â  liveSync(COLLECTION_KEYS.reflections, 'reflections-list', false);
Â  Â  Â  liveSync(COLLECTION_KEYS.candles, 'candle-wall', true);

Â  Â  Â  // Double-click event to hide prompt boxes
Â  Â  Â  const randomQuoteBox = document.getElementById("random-quote");
Â  Â  Â  const journalPromptBox = document.getElementById("prompt-display");
Â  Â  Â  const familyQuestionBox = document.getElementById("family-question-display");

Â  Â  Â  if (randomQuoteBox) {
Â  Â  Â  Â  randomQuoteBox.addEventListener('dblclick', () => { randomQuoteBox.style.display = 'none'; });
Â  Â  Â  }
Â  Â  Â  if (journalPromptBox) {
Â  Â  Â  Â  journalPromptBox.addEventListener('dblclick', () => { journalPromptBox.style.display = 'none'; });
Â  Â  Â  }
Â  Â  Â  if (familyQuestionBox) {
Â  Â  Â  Â  familyQuestionBox.addEventListener('dblclick', () => { familyQuestionBox.style.display = 'none'; });
Â  Â  Â  }
Â  Â  Â  
Â  Â  Â  // Initial daily quote display
Â  Â  Â  const quoteOfDay = quotes[Math.floor(Math.random() * quotes.length)];
Â  Â  Â  const dailyQuoteElement = document.getElementById("daily-quote");
Â  Â  Â  if (dailyQuoteElement) {
Â  Â  Â  Â  dailyQuoteElement.textContent = quoteOfDay.text;
Â  Â  Â  }
Â  Â  });
Â  </script>
</body>
</html>
